- #  Copyright (c) 2012-2025, Jungwacht Blauring Schweiz. This file is part of
- #  hitobito and licensed under the Affero General Public License version 3
- #  or later. See the COPYING file at the top-level directory or at
- #  https://github.com/hitobito/hitobito.

- id ||= nil
:plain
  var el = #{id ? "'##{id}'".html_safe : "$('body').data('popover')"};
  const instance = Popover.getInstance(el);

  if (instance) {
    instance.dispose();
  }

  Popover.getOrCreateInstance(el, {
    container: "body",
    sanitize: false,
    html: true,
    placement: "bottom",
    content:'#{j(render('modal', group: entry.group))}',
    title:"#{t(title_key, person: entry.person)}"
  }).show();
