-#  Copyright (c) 2012-2017, Jungwacht Blauring Schweiz. This file is part of
-#  hitobito and licensed under the Affero General Public License version 3
-#  or later. See the COPYING file at the top-level directory or at
-#  https://github.com/hitobito/hitobito.

= standard_form(path_args(entry), noindent: true, stacked: true) do |form|
  = render_extensions :form, locals: { f: form }
  = form.error_messages

  .ml-3
    = render "range", f: form

    .mt-3.mb-3#overview
      = render "criterion", criterion: :role
      = render "criterion", criterion: :attributes
      = render "criterion", criterion: :qualification if @qualification_kinds.present?
      = render "criterion", criterion: :tag

    - unless entry.filter_chain.present?
      %h3#filter-advice= t(".filter_advice_heading")

    #filter-critera-dropdown
      = Dropdown::PeopleFilter.new(self, current_user).to_s

    .mt-4= render 'search_button', f: form

  - if can?(:create, entry)
    .mt-5
      %label.required=PeopleFilter.human_attribute_name(:name)
      = form.input_field :name, placeholder: t('.save_filter_placeholder'), class: 'mb-3 ', required: false

  = render 'save_button', f: form
