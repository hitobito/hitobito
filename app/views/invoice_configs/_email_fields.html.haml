-#  Copyright (c) 2025, Hitobito AG. This file is part of
-#  hitobito and licensed under the Affero General Public License version 3
-#  or later. See the COPYING file at the top-level directory or at
-#  https://github.com/hitobito/hitobito.

= f.labeled_input_field :sender_name, help: t('.sender_name_help'),
  pattern: '^(?!.*[^\s@]+@[^\s@]+\.[^\s@]+$).*',
  oninvalid: "setCustomValidity('#{t('.email_validation')}')"
= f.labeled_input_field :email, help: t('.email_help')
= field_set_tag do
    = f.labeled(:custom_content) do
        = f.nested_fields_for :custom_content, nil, nil, {class: "controls", model_object: CustomContent.build(context: f.object)}, 1 do |fields|
            = render "custom_content_fields", f: fields
        = f.help_block(t(".custom_content_help"))
